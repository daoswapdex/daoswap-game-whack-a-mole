(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-259073d7"],{"0bfc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fill-height"},[t.web3&&t.connected?n("v-container",{staticClass:"fill-height"},[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{md:"6"}},[n("v-card",{staticClass:"fill-width mt-10"},[n("v-card",{attrs:{outlined:""}},[n("v-card-title",[n("v-avatar",{staticClass:"mr-2",attrs:{size:"24"}},[n("img",{attrs:{src:a("cf05"),alt:"DAO"}})]),n("span",{staticClass:"title font-weight-bold text-h5"},[t._v(" "+t._s(t.$t("Claim DFT"))+" ")])],1),n("v-divider"),n("v-card-text",[n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[n("p",{staticStyle:{margin:"0"},on:{click:function(e){return t.handleCopy(t.DFTToken,e)}}},[t._v(" "+t._s(t.$t("DFT Token"))+": "+t._s(t.DFTToken)+" "),n("v-icon",[t._v("mdi-content-copy")])],1)]),n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[t._v(" "+t._s(t.$t("DFT can be claimed"))+": "+t._s(t.claimDFTAmount)+" ")])],1)],1),n("v-card-text"),t.DFTRewardSwitch&&t.isOpen&&t.isSelected&&!t.isClaim?n("form",[n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{large:"",color:"#93B954",dark:"",width:"80%"},on:{click:function(e){return t.claimDFT()}}},[t._v(" "+t._s(t.$t("Claim"))+" ")])],1)],1):n("v-row",{attrs:{align:"center"}},[t.DFTRewardSwitch?n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[t.isOpen?n("div",[t.isSelected||t.isClaim?n("div",[t._v(" "+t._s(t.$t("DFT has been claimed"))+" ")]):n("div",[t._v(" "+t._s(t.$t("The current account is not selected"))+" ")])]):n("div",[t._v(" "+t._s(t.$t("Not within the claim time frame"))+" ")])]):n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[t._v(" "+t._s(t.$t("Claim not yet enabled"))+" ")])],1)],1)],1)],1),n("v-card",{staticClass:"fill-width mt-10"},[n("v-card",{attrs:{outlined:""}},[n("v-card-title",[n("v-avatar",{staticClass:"mr-2",attrs:{size:"24"}},[n("img",{attrs:{src:a("cf05"),alt:"DAO"}})]),n("span",{staticClass:"title font-weight-bold text-h5"},[t._v(" "+t._s(t.$t("Exchange DAO"))+" ")])],1),n("v-divider"),n("v-card-text",[n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[t._v(" "+t._s(t.$t("DFT Balance"))+": "+t._s(t.accountAssets.balance)+" ")]),n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[t._v(" "+t._s(t.$t("Authorized quota"))+": "+t._s(t.accountAssets.allowanceAmount)+" ")]),n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[t._v(" "+t._s(t.$t("Estimated DFT Price"))+": 1 DFT â‰ˆ "+t._s(t.DFTPrice)+" DAO ")])],1)],1),n("v-card-text"),parseFloat(t.accountAssets.balance)>0?n("form",[n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{large:"",color:"#93B954",dark:"",width:"80%"},on:{click:function(e){t.accountAssets.allowanceAmount&&parseFloat(t.accountAssets.allowanceAmount)>=parseFloat(t.accountAssets.balance)?t.exchangeDAO():t.handleApprove()}}},[t._v(" "+t._s(t.accountAssets.allowanceAmount&&parseFloat(t.accountAssets.allowanceAmount)>=parseFloat(t.accountAssets.balance)?t.$t("Exchange"):t.$t("Approve"))+" ")])],1)],1):n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"subtitle-1",attrs:{cols:"12"}},[t._v(" "+t._s(t.$t("Insufficient balance"))+" ")])],1)],1)],1)],1),n("v-card",{staticClass:"fill-width mt-10",attrs:{justify:"center"}},[n("v-card-title",[n("span",{staticClass:"title font-weight-bold text-h5"},[t._v(" "+t._s(t.$t("Current Token Address"))+" ")])]),n("v-divider"),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"body-1",attrs:{cols:"12"},on:{click:function(e){return t.handleCopy(t.address,e)}}},[n("p",[t._v(" "+t._s(t.address)+" "),n("v-icon",[t._v("mdi-content-copy")])],1)])],1)],1)],1),n("v-card",{staticClass:"fill-width mt-10",attrs:{justify:"center"}},[n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"body-1",attrs:{cols:"12"}},[n("p",{on:{click:function(e){return t.handleCopy(t.DAOAddress,e)}}},[t._v(" DAO contract: "+t._s(t.DAOAddress)+" "),n("v-icon",[t._v("mdi-content-copy")])],1)])],1)],1)],1),n("v-overlay",{attrs:{"z-index":"9999",opacity:"0.7",value:t.loading}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),n("v-snackbar",{attrs:{color:t.operationResult.color,centered:"",top:"",timeout:"5000"},model:{value:t.operationResult.snackbar,callback:function(e){t.$set(t.operationResult,"snackbar",e)},expression:"operationResult.snackbar"}},[t._v(" "+t._s(t.$t(t.operationResult.text))+" ")])],1)],1)],1):n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{md:"6"}},[n("v-card",{staticClass:"fill-width",attrs:{justify:"center"}},[n("v-card-actions",{staticClass:"justify-center"},[t.connected?t._e():n("v-btn",{staticClass:"mr-2",attrs:{color:"#93B954",block:""},on:{click:t.onConnect}},[t._v(" "+t._s(t.$t("Connect Wallet"))+" ")])],1)],1)],1)],1)],1)],1)},s=[],c=(a("4de4"),a("96cf"),a("1da1")),o=a("f71e"),r=a("5a50"),i=a("043a"),l=a("a78f"),u=a("824b"),d={name:"FarmingGame",data:function(){return{loading:!1,DAOAddress:r["b"],tokenSymbol:"DAO",contractInfo:{token:null},dataList:[],accountAssets:{balance:0,allowanceAmount:0},DFTRewardSwitch:!1,isOpen:!1,isSelected:!1,isClaim:!1,DFTToken:null,claimDFTAmount:0,DFTPrice:0,operationResult:{color:"success",snackbar:!1,text:"Hello"}}},created:function(){this.web3&&this.connected?this.getInfo():this.onConnect()},watch:{web3:function(t){t&&this.getInfo()},address:function(t){t&&this.getInfo()},chainId:function(t){t&&this.getInfo()}},computed:{connected:function(){return this.$store.state.web3.connected},web3:function(){return this.$store.state.web3.web3},address:function(){return this.$store.state.web3.address},chainId:function(){return this.$store.state.web3.chainId}},methods:{onConnect:function(){this.$store.dispatch("web3/connect")},closeWallet:function(){this.$store.dispatch("web3/closeWallet")},handleCopy:function(t,e){Object(o["a"])(t,e),this.operationResult.color="success",this.operationResult.snackbar=!0,this.operationResult.text="Cope Success"},getInfo:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getContractInfoToken(),e.next=3,t.getContractInfo();case 3:case"end":return e.stop()}}),e)})))()},getContractInfoToken:function(){var t=this,e=r["f"].filter((function(e){return e.chainId===parseInt(t.chainId)}))[0];e&&(this.contractInfo.token=e.address)},getContractInfo:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,s,c,o,r,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a=Object(i["c"])(u,t.contractInfo.token,t.web3),e.next=4,a.methods.DFTToken().call();case 4:return t.DFTToken=e.sent,n=Object(i["c"])(l,t.DFTToken,t.web3),e.next=8,n.methods.balanceOf(t.address).call();case 8:return s=e.sent,e.next=11,n.methods.allowance(t.address,t.contractInfo.token).call();case 11:return c=e.sent,t.accountAssets.balance=Object(i["h"])(s,t.web3),t.accountAssets.allowanceAmount=Object(i["h"])(c,t.web3),e.next=16,a.methods.queryConditionsOfClaimDFT().call({from:t.address});case 16:return o=e.sent,t.DFTRewardSwitch=o[0],t.isOpen=o[1],t.isSelected=o[2],t.isClaim=o[3],e.next=23,a.methods.queryClaimDFTAmount().call({from:t.address});case 23:return r=e.sent,t.claimDFTAmount=t.isClaim?0:Object(i["h"])(r,t.web3),e.next=27,a.methods.getDFTPrice().call();case 27:d=e.sent,t.DFTPrice=Object(i["h"])(d,t.web3),t.loading=!1;case 30:case"end":return e.stop()}}),e)})))()},claimDFT:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,parseFloat(t.claimDFTAmount)>0?Object(i["c"])(u,t.contractInfo.token,t.web3).methods.claimDFT().send({from:t.address}).then((function(){t.loading=!1,t.operationResult.color="success",t.operationResult.snackbar=!0,t.operationResult.text="Claim Success",t.getInfo()})).catch((function(e){t.loading=!1,console.info(e)})):(t.operationResult.color="error",t.operationResult.snackbar=!0,t.operationResult.text="Insufficient DFT can be claimed",t.loading=!1);case 2:case"end":return e.stop()}}),e)})))()},handleApprove:function(){var t=this;this.loading=!0,Object(i["c"])(l,this.DFTToken,this.web3).methods.approve(this.contractInfo.token,Object(i["a"])(this.accountAssets.balance,this.web3)).send({from:this.address}).then((function(){t.loading=!1,t.operationResult.color="success",t.operationResult.snackbar=!0,t.operationResult.text="Approve Success",t.getInfo()})).catch((function(e){t.loading=!1,console.info(e)}))},exchangeDAO:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,parseFloat(t.accountAssets.balance)>0?Object(i["c"])(u,t.contractInfo.token,t.web3).methods.exchangeDAO(Object(i["a"])(t.accountAssets.balance,t.web3)).send({from:t.address}).then((function(){t.loading=!1,t.operationResult.color="success",t.operationResult.snackbar=!0,t.operationResult.text="Exchange Success",t.getInfo()})).catch((function(e){t.loading=!1,console.info(e)})):(t.operationResult.color="error",t.operationResult.snackbar=!0,t.operationResult.text="Insufficient balance",t.loading=!1);case 2:case"end":return e.stop()}}),e)})))()}}},v=d,f=(a("850a"),a("2877")),h=a("6544"),b=a.n(h),m=a("8212"),p=a("8336"),w=a("b0af"),g=a("99d9"),C=a("62ad"),A=a("a523"),_=a("ce7e"),k=a("132d"),T=a("a797"),D=a("490a"),x=a("0fd9"),F=a("2db4"),R=Object(f["a"])(v,n,s,!1,null,null,null);e["default"]=R.exports;b()(R,{VAvatar:m["a"],VBtn:p["a"],VCard:w["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VCol:C["a"],VContainer:A["a"],VDivider:_["a"],VIcon:k["a"],VOverlay:T["a"],VProgressCircular:D["a"],VRow:x["a"],VSnackbar:F["a"]})},"488e":function(t,e,a){},"850a":function(t,e,a){"use strict";a("488e")}}]);